var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(o,t,d)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[t]=d;import{d as n,r,c,w as u,v as p,a as i,b as m,e as v,p as T,f as b,o as y,g as f,i as h,h as k,t as g,j as A,k as C,F as w,l as O,m as _,n as I,q as j,s as q,u as x,x as F,y as S}from"./vendor.c2f51df9.js";var H=n({props:{addTodo:{type:Function,required:!0}},setup(e){const o=r("");return{title:o,add:()=>{const t=o.value;if(!t.trim())return;const d={id:Date.now(),title:t,iscompleted:!1};e.addTodo(d),o.value=""}}}});const L=v();T("data-v-5a712dbc");const P={class:"todo-header"};b();const N=L(((e,o,t,d,l,a)=>(y(),c("div",P,[u(i("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=o=>e.title=o),onKeyup:o[2]||(o[2]=m(((...o)=>e.add&&e.add(...o)),["enter"])),placeholder:"请输入你的任务名称，按回车键确认"},null,544),[[p,e.title]])]))));H.render=N,H.__scopeId="data-v-5a712dbc";var U=n({name:"item",props:{todo:{type:Object,required:!0},index:{type:Number,required:!0},updateTodo:{type:Function,required:!0}},setup(e){const o=r("white"),t=r("black"),d=r(!1),l=h("deleteTodo"),a=h("updateTodo"),s=f({get:()=>e.todo.isCompleted,set(o){null!=a&&a(e.todo,o)}});return{mouseHandler:e=>{e?(o.value="pink",t.value="green",d.value=!d.value):(o.value="white",t.value="black",d.value=!d.value)},bgcolor:o,mycolor:t,isShow:d,delTodo:()=>{window.confirm("确定要删除吗？")&&null!=l&&l(e.index)},isCompleted:s}}});const V=v()(((e,o,t,d,l,a)=>(y(),c("li",{onMouseenter:o[3]||(o[3]=o=>e.mouseHandler(!0)),onMouseleave:o[4]||(o[4]=o=>e.mouseHandler(!1)),style:{backgroundColor:e.bgcolor,color:e.mycolor}},[i("label",null,[u(i("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=o=>e.isCompleted=o)},null,512),[[k,e.isCompleted]]),i("span",null,g(e.todo.title),1)]),u(i("button",{class:"btn btn-danger",onClick:o[2]||(o[2]=(...o)=>e.delTodo&&e.delTodo(...o))},"删除",512),[[A,e.isShow]])],36))));U.render=V,U.__scopeId="data-v-fe767e70";var D=n({name:"list",components:{Item:U},props:["todos","deleteTodo","updateTodo"]});const E=v();T("data-v-0dc97e1e");const J={class:"todo-main"};b();const M=E(((e,o,t,d,l,a)=>{const s=C("Item");return y(),c("ul",J,[(y(!0),c(w,null,O(e.todos,((o,t)=>(y(),c(s,{index:Number(t),key:o.id,todo:o,deleteTodo:e.deleteTodo,updateTodo:e.updateTodo},null,8,["index","todo","deleteTodo","updateTodo"])))),128))])}));D.render=M,D.__scopeId="data-v-0dc97e1e";var K=n({props:{todos:{type:Array,required:!0},checkAll:{type:Function,required:!0},clearAlloption:{type:Function,required:!0}},setup(e){const o=f((()=>e.todos.reduce(((e,o,t)=>e+(o.isCompleted?1:0)),0))),t=f({get:()=>o.value>0&&e.todos.length===o.value,set(o){e.checkAll(o)}});return{count:o,isCheckAll:t,clearTodo:()=>{e.clearAlloption()}}}});const z=v();T("data-v-782f5b28");const B={class:"todo-footer"};b();const G=z(((e,o,t,d,l,a)=>(y(),c("div",B,[i("label",null,[u(i("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=o=>e.isCheckAll=o)},null,512),[[k,e.isCheckAll]])]),i("span",null,[i("span",null,"已完成"+g(e.count),1),_(" / 全部"+g(e.todos.length),1)]),i("button",{class:"btn btn-danger",onClick:o[2]||(o[2]=(...o)=>e.clearTodo&&e.clearTodo(...o))},"清除已完成任务")]))));function Q(e){localStorage.setItem("todos_key",JSON.stringify(e))}K.render=G,K.__scopeId="data-v-782f5b28";var R=n({name:"TodoList",components:{Header:H,List:D,Footer:K},setup(){const e=I({todos:[]});j((()=>{setTimeout((()=>{e.todos=JSON.parse(localStorage.getItem("todos_key")||"[]")}),1e3)}));const n=o=>{e.todos.splice(o,1)},r=(e,o)=>{e.isCompleted=o};F("deleteTodo",n),F("updateTodo",r);return q((()=>e.todos),Q,{deep:!0}),c=((e,o)=>{for(var t in o||(o={}))l.call(o,t)&&s(e,t,o[t]);if(d)for(var t of d(o))a.call(o,t)&&s(e,t,o[t]);return e})({},x(e)),o(c,t({addTodo:o=>{e.todos.unshift(o)},deleteTodo:n,updateTodo:r,checkAll:o=>{e.todos.forEach((e=>{e.isCompleted=o}))},clearAlloption:()=>{e.todos=e.todos.filter((e=>!e.isCompleted))}}));var c}});const W=v();T("data-v-23e06b79");const X={class:"todo-container"},Y={class:"todo-wrap"};b();const Z=W(((e,o,t,d,l,a)=>{const s=C("Header"),n=C("List"),r=C("Footer");return y(),c("div",X,[i("div",Y,[i(s,{addTodo:e.addTodo},null,8,["addTodo"]),i(n,{todos:e.todos,deleteTodo:e.deleteTodo,updateTodo:e.updateTodo},null,8,["todos","deleteTodo","updateTodo"]),i(r,{todos:e.todos,checkAll:e.checkAll,clearAlloption:e.clearAlloption},null,8,["todos","checkAll","clearAlloption"])])])}));R.render=Z,R.__scopeId="data-v-23e06b79";var $=n({name:"App",components:{TodoList:R}});$.render=function(e,o,t,d,l,a){const s=C("TodoList");return y(),c(s)};S($).mount("#app");
